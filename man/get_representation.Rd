% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Palette.R
\name{get_representation}
\alias{get_representation}
\title{Compute a latent representation of query data based on a reference and latent space}
\usage{
get_representation(
  query,
  ref,
  latent,
  Bi_sPCA = TRUE,
  dims = 30,
  lambda = 0.5,
  do.scale = TRUE,
  do.center = TRUE,
  nn.k = 20,
  nn.method = "annoy",
  annoy.metric = "euclidean",
  prune.SNN = 1/15,
  verbose = TRUE
)
}
\arguments{
\item{query}{A numeric matrix representing the query dataset (features by cells).}

\item{ref}{A numeric matrix representing the reference dataset (features by cells).}

\item{latent}{A numeric matrix representing the latent space of the reference.}

\item{Bi_sPCA}{Logical. Whether to apply Bi-supervised Principal Component Analysis (Bi-sPCA) for alignment. Default is TRUE.}

\item{dims}{Integer. Number of dimensions to use for PCA subspace. Default is 30.}

\item{lambda}{Numeric. Regularization parameter for Bi-sPCA, between 0 and 1. Default is 0.5.}

\item{do.scale}{Logical. Whether to scale features to unit variance. Default is TRUE.}

\item{do.center}{Logical. Whether to center features to zero mean. Default is TRUE.}

\item{nn.k}{Integer. Number of nearest neighbors for SNN graph construction. Default is 20.}

\item{nn.method}{Character. Nearest neighbor method to use ("annoy", "rann", etc.). Default is "annoy".}

\item{annoy.metric}{Character. Distance metric for Annoy ("euclidean", "manhattan", etc.). Default is "euclidean".}

\item{prune.SNN}{Numeric. Threshold to prune edges in the SNN graph (fraction). Default is 1/15.}

\item{verbose}{Logical. Whether to display messages during computation. Default is TRUE.}
}
\value{
A numeric matrix representing the query projected into the latent space (latent features x query samples).
}
\description{
This function projects query data into a latent space derived from reference data,
optionally using bi-directional sparse PCA (Bi_sPCA) for dimensionality reduction and alignment.
}
\keyword{internal}
